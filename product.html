<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Go Royal - Products</title>
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        /* Reusing Core Styles from Index */
        :root {
            /* Dark Theme (Default) */
            --bg-gradient: linear-gradient(135deg, #0f172a 0%, #020617 100%);
            --sidebar-bg: rgba(15, 23, 42, 0.6);
            --card-bg: rgba(30, 41, 59, 0.4);
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --accent: #ffd700;
            /* Default to Gold for first item */
            --accent-glow: rgba(255, 215, 0, 0.5);
            --border-color: rgba(255, 255, 255, 0.08);
            --glass-border: 1px solid rgba(255, 255, 255, 0.05);
            --hover-bg: rgba(255, 255, 255, 0.05);
            --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            --bg-color: #0f172a;
        }

        [data-theme="light"] {
            --bg-gradient: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            --sidebar-bg: rgba(255, 255, 255, 0.6);
            --card-bg: rgba(255, 255, 255, 0.5);
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --accent: #3b82f6;
            --accent-glow: rgba(59, 130, 246, 0.4);
            --border-color: rgba(0, 0, 0, 0.05);
            --glass-border: 1px solid rgba(255, 255, 255, 0.4);
            --hover-bg: rgba(0, 0, 0, 0.03);
            --shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            --bg-color: #f0f9ff;
        }

        * {
            box-sizing: border-box;
            transition: background-color 0.5s ease, color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            font-family: 'Outfit', 'Inter', system-ui, sans-serif;
            background: var(--bg-gradient);
            color: var(--text-primary);
            overflow: hidden;
            /* Prevent page scroll, let Swiper handle it */
        }

        .bg-mesh {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.4;
            animation: float 10s infinite ease-in-out;
            transition: background 1s ease;
        }

        .blob-1 {
            top: -10%;
            left: -10%;
            width: 50vw;
            height: 50vw;
            background: var(--accent);
        }

        .blob-2 {
            bottom: -10%;
            right: -10%;
            width: 40vw;
            height: 40vw;
            background: #3b82f6;
            animation-delay: -5s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translate(0, 0);
            }

            50% {
                transform: translate(30px, 50px);
            }
        }

        .app {
            max-width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 24px;
            position: relative;
            z-index: 10;
        }

        /* Header */
        .header {
            background: var(--sidebar-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: var(--glass-border);
            box-shadow: var(--shadow);
            padding: 16px 24px;
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 24px;
            flex-shrink: 0;
            z-index: 50;
        }

        .back-btn {
            background: var(--hover-bg);
            border: var(--glass-border);
            color: var(--text-primary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.2rem;
            text-decoration: none;
            transition: all 0.3s;
        }

        .back-btn:hover {
            background: var(--accent);
            color: white;
            transform: translateX(-4px);
        }

        h1 {
            margin: 0;
            font-size: 1.8rem;
            background: linear-gradient(to right, var(--text-primary), var(--accent));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Tabs */
        .tabs-container {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-bottom: 24px;
            z-index: 50;
        }

        .tab-btn {
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            /* Lighter bg */
            border: none;
            color: var(--text-secondary);
            padding: 12px 24px;
            /* Standard pill padding */
            border-radius: 40px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            overflow: hidden;
            white-space: nowrap;
        }

        .tab-btn.active {
            background: var(--accent);
            /* Full fill */
            color: #000;
            font-weight: 700;
            box-shadow: 0 4px 25px var(--accent-glow);
            transform: scale(1.05);
        }

        /* Specific style for Variant Buttons (Laptops, etc) */
        .variant-btn {
            border: 1px solid var(--glass-border);
            background: rgba(0, 0, 0, 0.3);
            /* Darker, distinct background */
            font-size: 0.9rem;
            /* Slightly smaller text */
            padding: 10px 20px;
        }

        .variant-btn.active {
            background: #fff;
            /* Distinct active state for variants? Or keep accent? User said round button showing option */
            /* Let's keep accent for consistency but maybe different shape? */
            background: var(--accent);
            color: #000;
        }

        /* Swiper Container */
        .swiper {
            width: 100%;
            flex: 1;
            padding-top: 10px;
            padding-bottom: 40px;
            perspective: 1000px;
            overflow: visible !important;
        }

        .swiper-slide {
            width: 280px;
            /* Reduced from 300px */
            height: 450px;
            /* Reduced from 480px */
            border-radius: 28px;
            background: var(--card-bg);
            border: var(--glass-border);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: all 0.4s ease;
            opacity: 0.4;
            transform: scale(0.9);
        }

        .swiper-slide-active {
            border: 2px solid var(--accent);
            box-shadow: 0 20px 60px var(--accent-glow);
            opacity: 1;
            transform: scale(1);
            z-index: 10;
        }

        .slide-image {
            height: 50%;
            /* Compact image */
            width: 100%;
            background-size: cover;
            background-position: center;
            border-bottom: var(--glass-border);
            position: relative;
        }

        .slide-content {
            padding: 24px;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.4), transparent);
        }

        .btn-add {
            width: 100%;
            padding: 14px;
            border-radius: 16px;
            border: none;
            background: var(--accent);
            color: #000;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-add:hover {
            box-shadow: 0 0 30px var(--accent-glow);
            transform: translateY(-2px) scale(1.02);
            color: white;
        }

        /* Grouped Navigation Controls */
        .nav-controls {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            gap: 16px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.1);
            padding: 8px;
            border-radius: 40px;
            border: var(--glass-border);
            backdrop-filter: blur(12px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .swiper-button-next,
        .swiper-button-prev {
            position: static !important;
            /* Reset absolute positioning */
            margin: 0 !important;
            color: #000;
            background: var(--accent);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            flex-shrink: 0;
            opacity: 1;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .swiper-button-next::after,
        .swiper-button-prev::after {
            font-size: 1.2rem;
            font-weight: 800;
        }

        .swiper-button-next:hover,
        .swiper-button-prev:hover {
            transform: scale(1.1);
            background: #fff;
            color: var(--accent);
            box-shadow: 0 0 20px var(--accent-glow);
        }

        /* Mobile Controls - Center Bottom */
        @media (max-width: 600px) {
            .nav-controls {
                left: 50%;
                right: auto;
                transform: translateX(-50%);
                bottom: 50px;
                /* Higher up (was 20px) */
                padding: 6px;
                gap: 12px;
            }

            .swiper-button-next,
            .swiper-button-prev {
                width: 44px;
                height: 44px;
            }
        }

        /* Mobile Adjustments */
        @media (max-width: 600px) {
            .app {
                padding: 16px;
            }

            /* Disable heavy background animations */
            .blob {
                display: none;
            }

            /* Fallback static gradient for mobile background */
            .bg-mesh {
                background: var(--bg-gradient);
            }

            .swiper-slide {
                width: 280px;
                height: 400px;
                /* PERFORMANCE: Remove glass effect */
                backdrop-filter: none;
                -webkit-backdrop-filter: none;
                /* Make bg opaque since no blur */
                background: var(--sidebar-bg);
                /* Simplify shadow */
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
                will-change: transform;
            }

            .header {
                padding: 12px 16px;
                border-radius: 16px;
                /* Optional: Remove header blur too if needed, but slide is priority */
                -webkit-backdrop-filter: none;
                backdrop-filter: none;
                background: var(--bg-color);
                /* solid color */
            }

            h1 {
                font-size: 1.5rem;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
</head>

<body>
    <div class="bg-mesh">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <div class="app">
        <!-- Persistent Header at Top -->
        <header class="header">
            <a href="javascript:goBack()" class="back-btn"><i class="ri-arrow-left-line"></i></a>
            <div style="display: flex; align-items: center; gap: 12px;">
                <h1 id="pageTitle">Products</h1>
            </div>
            <a href="index.html" class="logo-link" style="display:flex; align-items:center; text-decoration:none;">
                <img src="Images/logo.png" alt="Go Royal" style="height: 40px;">
            </a>
        </header>

        <!-- Tabs Control -->
        <div class="tabs-container" id="tabsHolder">
            <!-- Dynamic Tabs loaded here -->
        </div>

        <!-- Swiper Container -->
        <div class="swiper mySwiper">
            <div class="swiper-wrapper" id="productsHolder">
                <!-- Slides injected here -->
            </div>
            <!-- Navigation Arrows Grouped -->
            <div class="nav-controls">
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>
        </div>
    </div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script>
        // --- Init Theme ---
        const savedTheme = localStorage.getItem('theme') || 'dark';
        document.documentElement.setAttribute('data-theme', savedTheme);

        // --- Logic ---
        const urlParams = new URLSearchParams(window.location.search);
        const sub = urlParams.get('sub');
        // Use a placeholder if no image provided
        const img = urlParams.get('img') || 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=1999';

        if (!sub) {
            // window.location.href = 'index.html'; 
        }

        document.getElementById('pageTitle').textContent = sub || 'Products';
        document.title = `${sub || 'Products'} - Go Royal`;

        // Configuration for Variants
        const variantConfig = {
            'Laptop': [
                { key: 'professional', label: 'Professional' },
                { key: 'gaming', label: 'Gaming' },
                { key: 'touch', label: 'Touch' }
            ],
            'Speaker': [
                { key: 'home-theater', label: 'Home Theater' },
                { key: 'soundbar', label: 'Sound Bar' }
            ]
            // Add other categories here if needed
        };

        // Product Database for Custom Images and Links per Category
        // Users can add their own affiliate links and specific images here.
        const productDatabase = {
            // --- WATCHES ---
            "Smart Watch": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Apple Watch Ultra', desc: 'Rugged & Capable', link: 'https://www.apple.com/watch-ultra/', img: 'Images/smartw.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Samsung Galaxy Watch', desc: 'Daily Driver', link: 'https://www.samsung.com/us/watches/', img: 'Images/smartw.png' }
            ],
            "Analog Watch": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Rolex Submariner', desc: 'Timeless Luxury', link: '#', img: 'Images/analogw.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Seiko 5 Sports', desc: 'Best Value Automatic', link: '#', img: 'Images/analogw.png' }
            ],
            "Digital Watch": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'G-Shock Mudmaster', desc: 'Indestructible', link: '#', img: 'Images/digitalw.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Casio Vintage', desc: 'Retro Style', link: '#', img: 'Images/digitalw.png' }
            ],
            "Digi Log Watch": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Tissot T-Touch', desc: 'Hybrid Smart', link: '#', img: 'Images/digilogw.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Fastrack Digi-Analog', desc: 'Youth Favorite', link: '#', img: 'Images/digilogw.png' }
            ],
            "Vintage Series": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Omega Speedmaster', desc: 'Moonwatch', link: '#', img: 'Images/vintagew.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'HMT Pilot', desc: 'Classic Indian', link: '#', img: 'Images/vintagew.png' }
            ],

            // --- AUTOMOBILES ---
            "Bikes": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Royal Enfield Classic', desc: 'Timeless Design', link: 'https://www.royalenfield.com/', img: 'Images/bike.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Yamaha R15', desc: 'Racing DNA', link: 'https://www.yamaha-motor-india.com/', img: 'Images/bike.png' }
            ],
            "Cars": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'BMW 3 Series', desc: 'Driving Pleasure', link: '#', img: 'Images/car.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Hyundai Creta', desc: 'Family Favorite', link: '#', img: 'Images/car.png' }
            ],
            "Helmets": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'AGV Pista GP', desc: 'Track Ready', link: '#', img: 'Images/helmet.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Studds Ninja', desc: 'Daily Protection', link: '#', img: 'Images/helmet.png' }
            ],
            "Bike Accessories": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Akrapovic Exhaust', desc: 'Performance Sound', link: '#', img: 'Images/bikeacc.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Mobile Holder', desc: 'Navigation Ready', link: '#', img: 'Images/bikeacc.png' }
            ],
            "Car Accessories": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Dash Cam 4K', desc: 'Safety First', link: '#', img: 'Images/caracc.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Car Vacuum', desc: 'Keep Clean', link: '#', img: 'Images/caracc.png' }
            ],
            "EV": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Tesla Model 3', desc: 'Future Drive', link: '#', img: 'Images/ev.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Tata Nexon EV', desc: 'Reliable Choice', link: '#', img: 'Images/ev.png' }
            ],

            // --- ELECTRONICS ---
            "Television": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'LG OLED G3', desc: 'Perfect Blacks', link: '#', img: 'Images/LG_tv.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Sony BRAVIA 5 Series 4K Ultra HD', desc: 'Cinema Experience', link: 'https://www.amazon.in/Sony-inches-BRAVIA-Google-K-98XR55A/dp/B0F7XP7MQX/ref=asc_df_B0F7XP7MQX?mcid=7fff56166e0935909364c040200a4878&tag=googleshopdes-21&linkCode=df0&hvadid=709962856271&hvpos=&hvnetw=g&hvrand=2791773338911013542&hvpone=&hvptwo=&hvqmt=&hvdev=c&hvdvcmdl=&hvlocint=&hvlocphy=9061911&hvtargid=pla-2454204359015&gad_source=1&th=1', img: 'Images/sony.jpg' }
            ],
            "Mobile": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'iPhone 15 Pro', desc: 'Titanium Design', link: '#', img: 'Images/phone.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Samsung S24 Ultra', desc: 'AI Powerhouse', link: '#', img: 'Images/phone.png' }
            ],
            "Laptop": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'MacBook Pro M3', desc: 'Pro Performance', link: '#', img: 'Images/laptop1.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Dell XPS 15', desc: 'Windows Best', link: '#', img: 'Images/laptop1.png' }
            ],
            "Gaming": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'PlayStation 5', desc: 'Next Gen Play', link: '#', img: 'Images/gaming.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Xbox Series X', desc: 'Power Your Dreams', link: '#', img: 'Images/gaming.png' }
            ],
            "Camera": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Sony A7 IV', desc: 'Hybrid Master', link: '#', img: 'Images/camera.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Fujifilm X-T5', desc: 'Retro Soul', link: '#', img: 'Images/camera.png' }
            ],
            "Headphones": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Sony WH-1000XM5', desc: 'Silence the World', link: '#', img: 'Images/headphone.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'AirPods Max', desc: 'computational Audio', link: '#', img: 'Images/headphone.png' }
            ],
            "Monitor": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Samsung Odyssey G9', desc: 'Ultrawide Immersion', link: '#', img: 'Images/monitor.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'LG UltraGear', desc: 'Fast IPS', link: '#', img: 'Images/monitor.png' }
            ],
            "Speaker": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Sonos Era 300', desc: 'Spacial Audio', link: '#', img: 'Images/speakers.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'JBL Charge 5', desc: 'Portable Party', link: '#', img: 'Images/speakers.png' }
            ],

            // --- HOME APPLIANCES ---
            "Refrigerator": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Samsung Bespoke', desc: 'Custom Design', link: '#', img: 'Images/fridge.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'LG Instaview', desc: 'Knock Twice', link: '#', img: 'Images/fridge.png' }
            ],
            "AC": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Daikin Inverter', desc: 'Efficient Cooling', link: '#', img: 'Images/ac.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Voltas Split AC', desc: 'Robust Cooling', link: '#', img: 'Images/ac.png' }
            ],
            "Washing Machine": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Bosch Front Load', desc: 'Gentle Wash', link: '#', img: 'Images/washingmachine.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'LG Top Load', desc: 'Direct Drive', link: '#', img: 'Images/washingmachine.png' }
            ],
            "Dish Washer": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Bosch Series 6', desc: 'Hygiene Wash', link: '#', img: 'Images/dishwasher.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'IFB Neptune', desc: 'Indian Kitchen Ready', link: '#', img: 'Images/dishwasher.png' }
            ],
            "Air Fryer": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Philips AirFryer XXL', desc: 'Fat Removal', link: '#', img: 'Images/airfyer.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Ninja Foodi', desc: 'Multi-Cooker', link: '#', img: 'Images/airfyer.png' }
            ],
            "Kitchen Supplies": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Wonderchef Set', desc: 'Color Your Kitchen', link: '#', img: 'Images/kitchensupply.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Prestige Cooke', desc: 'Durable Build', link: '#', img: 'Images/kitchensupply.png' }
            ],
            "Air Purifier": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Dyson Purifier Cool', desc: 'Detects & Destroys', link: '#', img: 'Images/airpurifier.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Philips AC1215', desc: 'NightSense Mode', link: '#', img: 'Images/airpurifier.png' }
            ],

            // --- BAGS & FOOTWEAR ---
            "Womens Footwear": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Nike Air Max', desc: 'Comfort & Style', link: '#', img: 'Images/womensfootwear.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Adidas Ultraboost', desc: 'Energy Return', link: '#', img: 'Images/womensfootwear.png' }
            ],
            "Mens Footwear": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Jordan Retro', desc: 'Iconic Style', link: '#', img: 'Images/mensfootwear.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Puma RS-X', desc: 'Bold Design', link: '#', img: 'Images/mensfootwear.png' }
            ],
            "Kids Footwear": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Crocs Classic', desc: 'Easy Wear', link: '#', img: 'Images/kidsfootwear.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Skechers Light-Up', desc: 'Fun Steps', link: '#', img: 'Images/kidsfootwear.png' }
            ],
            "Women Bags": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Michael Kors Tote', desc: 'Luxury Daily', link: '#', img: 'Images/womensbag.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Lavie Handbag', desc: 'Stylish & Spacious', link: '#', img: 'Images/womensbag.png' }
            ],
            "Men Bags": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Samsonite Backpack', desc: 'Business Class', link: '#', img: 'Images/mensbag.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Wildcraft Rucksack', desc: 'Adventure Ready', link: '#', img: 'Images/mensbag.png' }
            ],
            "Travel Bags": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'American Tourister', desc: 'Hard Shell', link: '#', img: 'Images/travelbag.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Safari Trolley', desc: 'Lightweight', link: '#', img: 'Images/travelbag.png' }
            ],

            // --- HOME DECOR ---
            "Wood Furniture": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Teak Wood Bed', desc: 'Solid Construction', link: '#', img: 'Images/furniture.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Sheesham Table', desc: 'Elegant Finish', link: '#', img: 'Images/furniture.png' }
            ],
            "Kitchen Storage": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Tupperware Set', desc: 'Airtight Freshness', link: '#', img: 'Images/kitchenstorage.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Milton Containers', desc: 'Steel Durability', link: '#', img: 'Images/kitchenstorage.png' }
            ],
            "Home Textile": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Bombay Dyeing', desc: 'Bedsheets & More', link: '#', img: 'Images/hometextile.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Spaces Towels', desc: 'Super Soft', link: '#', img: 'Images/hometextile.png' }
            ],
            "Bedroom Accessories": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Wakefit Pillow', desc: 'Memory Foam', link: '#', img: 'Images/bedroom.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Philips Smart Light', desc: 'Mood Lighting', link: '#', img: 'Images/bedroom.png' }
            ],

            // --- FITNESS ---
            "Treadmill": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'NordicTrack', desc: 'Interactive Training', link: '#', img: 'Images/treadmill.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'PowerMax Fitness', desc: 'Home Cardio', link: '#', img: 'Images/treadmill.png' }
            ],
            "Fitness Bike": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Peloton Bike', desc: 'Live Classes', link: '#', img: 'Images/fitnessbike.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Reach Air Bike', desc: 'Full Body Workout', link: '#', img: 'Images/fitnessbike.png' }
            ],
            "Walking Pods": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'WalkingPad P1', desc: 'Foldable Design', link: '#', img: 'Images/walkingpad.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Sparnod Walk', desc: 'Under Desk', link: '#', img: 'Images/walkingpad.png' }
            ],
            "Weights": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Bowflex SelectTech', desc: 'Adjustable Dumbbells', link: '#', img: 'Images/weights.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Kore PVC Set', desc: 'Beginner Friendly', link: '#', img: 'Images/weights.png' }
            ],
            "Home Gym": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Total Gym', desc: 'All-in-One', link: '#', img: 'Images/homegym.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Hashtag Fitness', desc: 'Multistation', link: '#', img: 'Images/homegym.png' }
            ],
            "Gym Accessories": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Nike Gym Gloves', desc: 'Better Grip', link: '#', img: 'Images/gymacc.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Nivia Yoga Mat', desc: 'Anti-Slip', link: '#', img: 'Images/gymacc.png' }
            ],

            // --- SPORTS ---
            "Cricket": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'SS Ton Bat', desc: 'English Willow', link: '#', img: 'Images/cricket.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'SG Ball', desc: 'Tournament Grade', link: '#', img: 'Images/cricket.png' }
            ],
            "Football": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Adidas Al Rihla', desc: 'Official Match Ball', link: '#', img: 'Images/football.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Nivia Shining Star', desc: 'Training Ball', link: '#', img: 'Images/football.png' }
            ],
            "Badminton": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Yonex Astrox', desc: 'Smash Power', link: '#', img: 'Images/badminton.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Li-Ning G-Force', desc: 'Lightweight', link: '#', img: 'Images/badminton.png' }
            ],
            "Swimming": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Speedo Goggles', desc: 'Anti-Fog', link: '#', img: 'Images/swimming.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Nabaiji Cap', desc: 'Silicone Fit', link: '#', img: 'Images/swimming.png' }
            ],
            "Table Tennis": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Stag 4 Star', desc: 'Pro Racket', link: '#', img: 'Images/tabletennis.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'GKI Offensive', desc: 'Spin Control', link: '#', img: 'Images/tabletennis.png' }
            ],
            "Boxing": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Everlast Gloves', desc: 'Heavy Bag Training', link: '#', img: 'Images/boxing.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'USI Pro', desc: 'Competition Grade', link: '#', img: 'Images/boxing.png' }
            ],

            // --- KIDS ---
            "Girls Clothing": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'H&M Kids Dress', desc: 'Party Wear', link: '#', img: 'https://images.unsplash.com/photo-1621452773781-0f992fd1f5cb?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Max Fashion', desc: 'Daily Comfort', link: '#', img: 'https://images.unsplash.com/photo-1621452773781-0f992fd1f5cb?w=400&q=80' }
            ],
            "Boys Clothing": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Zara Boys', desc: 'Trendy Styles', link: '#', img: 'https://images.unsplash.com/photo-1519457431-44ccd64a579b?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Allen Solly Junior', desc: 'Smart Casuals', link: '#', img: 'https://images.unsplash.com/photo-1519457431-44ccd64a579b?w=400&q=80' }
            ],
            "Baby Care": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Pampers Premium', desc: 'Soft & Dry', link: '#', img: 'https://images.unsplash.com/photo-1555252333-9f8e92e65df9?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Johnson\'s Baby', desc: 'Gentle Care', link: '#', img: 'https://images.unsplash.com/photo-1555252333-9f8e92e65df9?w=400&q=80' }
            ],
            "Kids Toys": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'LEGO City', desc: 'Creative Build', link: '#', img: 'https://images.unsplash.com/photo-1566576912321-d58ddd7a6088?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Hot Wheels', desc: 'Speed Action', link: '#', img: 'https://images.unsplash.com/photo-1566576912321-d58ddd7a6088?w=400&q=80' }
            ],

            // --- PETS ---
            "Dog Food": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Royal Canin', desc: 'Breed Health', link: '#', img: 'Images/dog.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Pedigree', desc: 'Complete Nutrition', link: '#', img: 'Images/dog.png' }
            ],
            "Cat Food": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Whiskas', desc: 'Tasty Mix', link: '#', img: 'Images/cat.png' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Me-O', desc: 'Fish Flavour', link: '#', img: 'Images/cat.png' }
            ],
            "Birds": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Vitapol', desc: 'Premium Seed', link: '#', img: 'https://images.unsplash.com/photo-1444464666168-49d633b86797?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Boltz', desc: 'Healthy Mix', link: '#', img: 'https://images.unsplash.com/photo-1444464666168-49d633b86797?w=400&q=80' }
            ],
            "Aquarium": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Tetra Bits', desc: 'Fish Food', link: '#', img: 'https://images.unsplash.com/photo-1522069169874-c58ec4b76be5?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Sobo Filter', desc: 'Clean Water', link: '#', img: 'https://images.unsplash.com/photo-1522069169874-c58ec4b76be5?w=400&q=80' }
            ],

            // --- CLOTHING (MEN/WOMEN shared names, need context? No, index.html just sends "Top Wear")
            // Issue: "Top Wear" exists in both Men and Women. 
            // The current logic in product.html just uses the sub name (e.g. "Top Wear").
            // To differentiate, we might need to handle this. But for now I will add generic entries.
            // A better fix would be if index.html sent "Men Top Wear" but it sends "Top Wear".
            // However, the `sub` param is just the name. 
            // I'll add one entry. If user wants specific gendered products they might need to update index.html to send unique names.
            // Wait, let's see. logic uses `sub`.

            "Top Wear": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Zara Collection', desc: 'Trending Now', link: '#', img: 'https://images.unsplash.com/photo-1550246140-5119ae4790b8?w=400&q=80' }, // Defaulting to one img
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Levis', desc: 'Classic Fit', link: '#', img: 'https://images.unsplash.com/photo-1550246140-5119ae4790b8?w=400&q=80' }
            ],
            "Bottom Wear": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Levi\'s Jeans', desc: 'Original 501', link: '#', img: 'https://images.unsplash.com/photo-1475178626620-a4d074967329?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Pepe Jeans', desc: 'London Style', link: '#', img: 'https://images.unsplash.com/photo-1475178626620-a4d074967329?w=400&q=80' }
            ],
            "Inner Wear": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Calvin Klein', desc: 'Premium Comfort', link: '#', img: 'https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Jockey', desc: 'Daily Essentials', link: '#', img: 'https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=400&q=80' }
            ],
            "Ethnic Wear": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Manyavar', desc: 'Celebration Ready', link: '#', img: 'https://images.unsplash.com/photo-1507679799987-9755eb1e1c17?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Biba', desc: 'Elegant Styles', link: '#', img: 'https://images.unsplash.com/photo-1507679799987-9755eb1e1c17?w=400&q=80' }
            ],
            "Sports Wear": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Nike Pro', desc: 'Athletic Fit', link: '#', img: 'https://images.unsplash.com/photo-1518459031867-a89b944bffe4?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Puma Active', desc: 'Gym Ready', link: '#', img: 'https://images.unsplash.com/photo-1518459031867-a89b944bffe4?w=400&q=80' }
            ],
            "Winter Wear": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Columbia Jacket', desc: 'Thermal Warmth', link: '#', img: 'https://images.unsplash.com/photo-1591559489278-654cb2960f25?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Decathlon Quechua', desc: 'Fleece Comfort', link: '#', img: 'https://images.unsplash.com/photo-1591559489278-654cb2960f25?w=400&q=80' }
            ],
            "Accessories": [
                { id: 0, type: 'sponsored', label: 'Sponsored', name: 'Ray-Ban', desc: 'Iconic Shades', link: '#', img: 'https://images.unsplash.com/photo-1492707892479-7bc8d5a4ee93?w=400&q=80' },
                { id: 1, type: 'top-rated', label: 'Top Rated', name: 'Fastrack', desc: 'Trendy Add-ons', link: '#', img: 'https://images.unsplash.com/photo-1492707892479-7bc8d5a4ee93?w=400&q=80' }
            ]
        };

        let currentVariant = null;
        let hasVariants = false;
        var swiper;

        // Initialize Page
        initPage();

        function initPage() {
            // Check for variants
            if (variantConfig[sub]) {
                hasVariants = true;
                currentVariant = variantConfig[sub][0].key; // Default to first
                renderVariantTabs(variantConfig[sub]);
            } else {
                hasVariants = false;
                renderDefaultTabs();
            }

            // Initialize with default color
            updateThemeColor(0);
            renderProducts(sub, img, currentVariant);
        }

        function renderVariantTabs(variants) {
            const container = document.getElementById('tabsHolder');
            let html = '';
            variants.forEach(v => {
                html += `
                <button class="tab-btn variant-btn ${v.key === currentVariant ? 'active' : ''}" onclick="switchVariant('${v.key}')" id="btn-${v.key}">
                    ${v.label}
                </button>`;
            });
            container.innerHTML = html;
        }

        function renderDefaultTabs() {
            const container = document.getElementById('tabsHolder');
            container.innerHTML = `
                <button class="tab-btn active" onclick="slideTo(0)" id="tab-0">
                    <i class="ri-shield-star-line"></i> Sponsored
                </button>
                <button class="tab-btn" onclick="slideTo(1)" id="tab-1">
                    <i class="ri-star-smile-line"></i> Top Rated
                </button>
            `;
        }

        function switchVariant(key) {
            if (currentVariant === key) return;
            currentVariant = key;

            // Update active state
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${key}`).classList.add('active');

            // Re-render products
            renderProducts(sub, img, currentVariant);
        }

        function renderProducts(sub, defaultImg, variantKey) {
            const holder = document.getElementById('productsHolder');

            let displayName = sub;
            if (variantKey) {
                // capitalize
                const vLabel = variantKey.charAt(0).toUpperCase() + variantKey.slice(1);
                displayName = `${vLabel} ${sub}`;
            }

            let displayProducts = [];

            // 1. Check if we have specific data in productDatabase
            //    Note: This lookup is simple sub-name based. 
            //    If we want variant-specific overrides, we'd need a nested structure or key like "Laptop-gaming".
            //    For now, let's keep it simple: if database has entry for this sub, use it.
            if (productDatabase[sub]) {
                displayProducts = productDatabase[sub];
            } else {
                // 2. Fallback to Generic Generation
                // STRICTLY 2 Products Data
                const rawProducts = [{
                    id: 0,
                    type: 'sponsored',
                    label: 'Sponsored',
                    name: `${displayName} - Premium`,
                    desc: 'Highest Quality • Verified',
                    link: '#', // Default link
                    img: defaultImg // Use the passed image (url param)
                }, {
                    id: 1,
                    type: 'top-rated',
                    label: 'Top Rated',
                    name: `${displayName} - Best Seller`,
                    desc: 'Most Loved • 5 Star',
                    link: '#', // Default link
                    img: defaultImg // Use the passed image (url param)
                }];
                displayProducts = rawProducts;
            }

            let html = '';
            displayProducts.forEach((p, i) => {
                // Allow database items to optionally omit img and fall back to default
                const productImg = p.img || defaultImg;

                html += `
                <div class="swiper-slide" data-real-index="${p.id || i}">
                    <div class="slide-image" style="background-image: url('${productImg}');">
                         <div class="badge ${p.type}" style="top:16px; left:16px; position:absolute; 
                            background: rgba(0,0,0,0.6); padding: 6px 12px; border-radius: 20px; font-size: 0.75rem; 
                            color: ${p.type === 'sponsored' ? '#ffd700' : '#4ade80'}; border: 1px solid currentColor;">
                            ${p.label}
                         </div>
                    </div>
                    <div class="slide-content">
                        <div>
                            <div class="title" style="font-size:1.8rem; margin-bottom: 8px; font-weight:800; line-height:1.2">${p.name}</div>
                            <div class="meta" style="color:var(--text-secondary); margin-bottom: 16px; font-size:1rem;">${p.desc}</div>
                        </div>
                        <a href="${p.link}" target="_blank" class="btn-add" style="text-decoration:none;">
                            <i class="ri-shopping-bag-3-fill"></i> Shop Now
                        </a>
                    </div>
                </div>`;
            });
            holder.innerHTML = html;

            // Re-init swiper if it exists, or create new
            if (swiper) {
                swiper.destroy(true, true);
            }
            initSwiper();
        }

        function initSwiper() {
            swiper = new Swiper(".mySwiper", {
                // Remove all 3D effects - standard flat slide
                effect: "slide",
                grabCursor: true,
                centeredSlides: true,
                slidesPerView: "auto", // Respect CSS width for card look
                initialSlide: 0,
                spaceBetween: 40, // More space on desktop
                speed: 400, // Balanced smooth speed
                loop: false, // NO loop

                // Touch Settings
                touchRatio: 1.2, // Slightly sensitive
                allowTouchMove: true, // just in case
                resistance: true, // Resistance at edges
                resistanceRatio: 0.65, // Nicer bounce
                longSwipes: false, // Prevent long slow swipes
                longSwipesRatio: 0.1, // Trigger slide faster

                mousewheel: {
                    invert: false,
                    sensitivity: 1,
                },
                keyboard: {
                    enabled: true,
                },
                navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                },
                on: {
                    slideChange: function () {
                        // Standard slideChange

                        // IF we are in "Default Mode" (no variants), we update the tabs based on slide
                        if (!hasVariants) {
                            updateActiveTab(this.activeIndex);
                        }

                        // Always update theme color based on product index (0=Sponsored, 1=TopRated)
                        updateThemeColor(this.activeIndex);
                    }
                }
            });
        }

        function slideTo(index) {
            if (swiper) swiper.slideTo(index);
        }

        function updateActiveTab(index) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            const activeBtn = document.getElementById(`tab-${index}`);
            if (activeBtn) activeBtn.classList.add('active');
        }

        function updateThemeColor(index) {
            const root = document.documentElement;
            const blob1 = document.querySelector('.blob-1');
            const blob2 = document.querySelector('.blob-2');

            // Default fallback
            if (index === undefined || isNaN(index)) index = 0;

            if (index === 0) {
                // Sponsored: Gold / Yellow
                root.style.setProperty('--accent', '#ffd700');
                root.style.setProperty('--accent-glow', 'rgba(255, 215, 0, 0.5)');
                if (blob1) blob1.style.background = '#ffd700';
                if (blob2) blob2.style.background = '#ffeb3b';
            } else {
                // Top Rated: Neon Purple
                root.style.setProperty('--accent', '#8b5cf6'); // Purple
                root.style.setProperty('--accent-glow', 'rgba(139, 92, 246, 0.5)');
                if (blob1) blob1.style.background = '#8b5cf6';
                if (blob2) blob2.style.background = '#3b82f6';
            }
        }

        function goBack() {
            if (document.referrer.includes('index.html')) {
                history.back();
            } else {
                window.location.href = 'index.html';
            }
        }
    </script>
</body>


</html>

